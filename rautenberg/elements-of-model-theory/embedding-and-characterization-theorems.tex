An {\it universal theory}\addtoindex{theory}[universal] is a theory with an axiom system of $\forall$-sentences.
For example, the theory of groups in the signature $\set{\cdot,e,{}^{-1}}$ and rings in $\set{+,\cdot,0,1}$ are universal theories.
We know that universal theories are {\it ${\bf S}$-invariant}\addtoindex{S-invariance} (substructure invariant), meaning if ${\cal A}\subseteq{\cal B}\vDash T$ then ${\cal A}\vDash T$ (as the satisaction
of $\forall$-sentences is preserved by substructures).

${\sf DO}$ does not have this property (for example $({\bb Z},<)\subseteq({\bb Q},<)$) and therefore has no axiom system consisting of $\forall$-sentences.

Interestingly, universal theories are characterized precisely by ${\bf S}$-invariance, as we will show.

Let $T^\forall=\set{\alpha\in T}[\hbox{$\alpha$ is a $\forall$-sentence}]$ be the {\it universal part}\addtoindex{universal part} of the theory $T$.
Notice that $T^\forall$ is not a theory as the theory generated by it contains more than just $\forall$-sentences.
For a sublanguage ${\cal L}_0\subseteq{\cal L}$ let $T^\forall_0={\cal L}_0\cap T^\forall=({\cal L}_0\cap T)^\forall$.
And as before if ${\cal A}$ is an ${\cal L}_0$-structure and ${\cal B}$ an ${\cal L}$-structure, then ${\cal A}\subseteq{\cal B}$ is to be taken as meaning that ${\cal A}$ is a substructure of the
${\cal L}_0$-reduct of ${\cal B}$.

\blemm[name=upartembedlemma]

    Every $T_0^\forall$-model ${\cal A}$ is embeddable into some $T$-model.

\elemm

It is sufficient to show that $T+{\cal D}A$ is consistent, because for every ${\cal B}\vDash T+{\cal D}A$, we must have that ${\cal A}$ is embeddable into ${\cal B}$ as it models its diagram.
So assume the opposite, then there must be a conjunction of sentences from $D{\cal A}$, $\varkappa(\vec a)$, such that $\varkappa(\vec a)\vdash_T\bot$, equivalently $\vdash_T\neg\varkappa(\vec a)$.
Since $\vec a$ do not appear in $T$, by $(\forall3)$ we have that $\vdash_T\forall\vec x\neg\varkappa$ and thus $\forall\vec x\neg\varkappa\in T_0^\forall$, so ${\cal A}\vDash\forall\vec x\neg\varkappa$.
But this contradicts ${\cal A}\vDash\varkappa(\vec a)$.
\qed

\blemm

    $\Md T^\forall$ consists of precisely all substructures of $T$-models.

\elemm

Since a substructure of a $T$-model is a $T^\forall$ model (since $T^\forall$ is ${\bf S}$-invariant as a set of $\forall$-sentences), we have shown one direction.
All that remains to show is that a $T^\forall$-model is a substructure of a $T$-model.
By applying the above lemma for ${\cal L}_0={\cal L}$ we get that every $T^\forall$-model is embeddable into some $T$-model.
Since $T$ is closed under isomorphic images, we have that a $T^\forall$-model is a substructure of a $T$-model.
\qed

\bexam

    Let ${\sf AG}$ be the theory of abelian groups in ${\cal L}\set\circ$.
    A substructure of an abelian group in this signature is a commutative cancellative semigroup (a cancellative semigroup is a semigroup with the left and right cancellation properties: $ab=ac\implies b=c$,
    $ba=ca\implies b=c$).
    Conversely it can be shown that a cancellative semigroup can be embedded into an abelian group, and is thus a substructure of an abelian group.
    Thus the theory (generated by) ${\sf AG}^\forall$ coincides with the theory of commutative cancellative semigroups (since $\Md T=\Md T'\implies T=T'$ as discussed before).

\eexam

\bthrm[name=universalpartembedtheorem]

    $T$ is a universal theory if and only if it is ${\bf S}$-invariant.

\ethrm

If $T$ is ${\bf S}$-invariant then by the above lemma $\Md T^\forall=\Md T$, and so $T$ can be axiomatized by its universal part $T^\forall$.
\qed

Recall that a universal Horn theory\addtoindex{horn theory}[universal] is a theory with an axiom system consiting of universal horn sentences: sentences of the form
$\forall\vec x(\neg\alpha_0\lor\neg\alpha_1\cdots\lor\neg\alpha_n)$ or $\forall\vec x(\alpha_0\lor\neg\alpha_1\lor\cdots\lor\neg\alpha_n)$ where $\alpha_i$ are prime.
We say that a theory $T$ is {\it ${\bf SP}$-invariant}\addtoindex{product invariance} (substructure and product invariant) if it is ${\bf S}$-invariant and closed under direct products: if
$\set{{\cal A}_i}_{i\in I}$ is a family of $T$-models, then $\prod_{i\in I}{\cal A}_i$ is also a $T$-model.

\bthrm

    $T$ is a universal Horn theory if and only if $T$ is ${\bf SP}$-invariant.

\ethrm

$\implies$: this was shown in a previous exercise.
$\impliedby$: if $\vdash_T\forall xy\,x\eq y$ then $T$ can be axiomatized by $\forall xy\,x\eq y$ which is a universal Horn formula.
Otherwise let $U$ be the set of all universal Horn sentences in $T$, then we will show that $\Md T=\Md U$.
Obviously $\Md T\subseteq\Md U$ so we will prove the other direction.
Let ${\cal A}\vDash U$, then we claim that $T\cup D{\cal A}$ is consistent: since then there exists a ${\cal B}\vDash T+D{\cal A}$ and so ${\cal A}$ is embeddable into a $T$-structure so by
${\bf S}$-invariance we get that ${\cal A}\vDash T$.
Let us define $P\coloneqq\set{\pi\in D{\cal A}}[\hbox{$\pi$ prime}]$, and so $D{\cal A}=P\cup\set{\neg\pi_i}_{i\in I}$ for some nonempty $I$, $\pi_i$ all prime.

We will now show that $P\nvdash_T\pi_i$ for all $i\in I$, as otherwise we'd have $\vdash_T\varkappa(\vec a)\to\pi_i(\vec a)$ for some conjunction of sentences in $P$, $\varkappa(\vec a)$.
Since $\vec a$ are constants which do not appear in $T$, $\vdash_T\forall\alpha\coloneqq\vec x(\varkappa(\vec x)\to\pi_i(\vec x))$.
And since $\varkappa\to\pi_i$ is a Horn formula, we have that $\alpha\in U$ and so ${\cal A}\vDash\alpha$.
But this contradicts ${\cal A}\vDash\varkappa(\vec a)\land\neg\pi_i(\vec a)$.

So choose ${\cal A}_i\vDash T,P,\neg\pi_i$, then ${\cal B}\coloneqq\prod_{i\in I}{\cal A}_i\vDash T\cup P\cup\set{\neg\pi_i}_{i\in I}=T\cup D{\cal A}$ by ${\bf P}$-invariance and since for direct products
and prime formulas $\pi$, $\prod{\cal A}_i\vDash\pi$ if and only if ${\cal A}_i\vDash\pi$ for all $i$.
Thus $T+D{\cal A}$ is consistent as required.
\qed

\bthrm

    Let ${\cal L}_0\subseteq{\cal L}$ and let ${\cal A}$ be an ${\cal L}_0$-structure.
    For $T\subseteq{\cal L}^0$, the following are equivalent:
    \benum
        \item ${\cal A}$ is embeddable into some $T$-model,
        \item every ${\cal B}\subseteq{\cal A}$ is embeddable into a $T$-model,
        \item every finitely generated ${\cal B}\subseteq{\cal A}$ is embeddable into a $T$-model,
        \item ${\cal A}\vDash T_0^\forall$.
    \eenum

\ethrm

$(1)\implies(2)$ and $(2)\implies(3)$ are trivial.
$(3)\implies(4)$: let $\forall\vec x\alpha(\vec x)\in T_0^\forall$.
Then let $\vec a\in A^n$ and ${\cal A}_0$ be the ${\cal A}$-substructure generated by $a_1,\dots,a_n$.
Thus ${\cal A}_0$ is embeddable into a $T$-model ${\cal B}$.
Since ${\cal B}\vDash\forall\vec x\alpha(\vec x)$, we have that ${\cal A}_0\vDash\forall\vec x\alpha(\vec x)$ as well and in particular ${\cal A}_0\vDash\alpha(\vec a)$.
By \refmath{substructuretheorem} we get that ${\cal A}\vDash\alpha(\vec a)$ and since $\vec a\in A^n$ is arbitrary, we get that ${\cal A}\vDash\forall\vec x\alpha(\vec x)$ so ${\cal A}\vDash T_0^\forall$.
$(4)\implies(1)$ is simply \refmath[lemma]{upartembedlemma}.
\qed

\bexam

    Let $T$ be the theory of ordered abelian groups in ${\cal L}={\cal L}\set{0,+,-,<}$.
    Such a group must be torsion-free as if $a>0$ then $0<a<2a<3a<\cdots$ so $na\neq0$ for all $n$, which can be expressed in ${\cal L}_0={\cal L}\set{0,+,-}$.
    The above theorem implies that a torsion-free abelian group is embeddable into an ordered abelian group (and is thus an ordered abelian group), as every finitely generated torsion-free abelian group
    is embeddable into an ordered abelian group.
    This is since a torsion-free abelian group $G$ is isomorphic to ${\bb Z}^n$ for some $n>0$, and ${\bb Z}^n$ can be ordered lexicographically.
    So we have shown that every abelian torsion-free group can be ordered.

\eexam

We can also characterize $\forall$-formulas model-theoretically: say a formula $\alpha(\vec x)\in{\cal L}^0$ {\it ${\bf S}$-persistent}\addtoindex{substructure persistence} or simply {\it persistent}
in a theory $T$ provided that for all $T$-models ${\cal A},{\cal B}$ if for all $\vec a\in A^n$,
$$ {\cal A}\subseteq{\cal B}\vDash\alpha(\vec a)\implies {\cal A}\vDash\alpha(\vec a) $$

\bthrm[name=persequivuniversal]

    If $\alpha=\alpha(\vec x)$ is persistent in $T$ then $\alpha$ is equivalent to some $\forall$-formula $\alpha'$ in $T$, which can be chosen such that $\free\alpha'\subseteq\free\alpha$.

\ethrm

Let us define $Y=\set{\forall\vec y\beta(\vec x,\vec y)}[\alpha\vdash_T\forall\vec y\beta(\vec x,\vec y)]$ where $\beta$ is quantifier-free.
Then we claim that $Y\vdash_T\alpha(\vec x)$ and this would be sufficient as by the compactness theorem there exists a conjunction of formulas in $Y$, $\varkappa(\vec x)$, such that
$\varkappa(\vec x)\vdash_T\alpha(\vec x)$, and since $\alpha(\vec x)\vdash_T\varkappa(\vec x)$ we'd have that they are equivalent in $T$.
The conjunction of $\forall$-formulas is itself equivalent to a $\forall$-formula, and so $\alpha'$ can be chose to be $\varkappa$.

So now assume that $({\cal A},\vec a)\vDash T,Y$ where $\vec a\in A^n$, and we must show that $({\cal A},\vec a)\vDash\alpha$.
To do so we claim that $T,\alpha(\vec a),D{\cal A}$ is consistent as then if ${\cal B}\vDash T,\alpha(\vec a),D{\cal A}$ we can assume that ${\cal A}\subseteq{\cal B}$ and so by the persistancy of $\alpha$,
since ${\cal B}\vDash\alpha(\vec a)$ we have that ${\cal A}\vDash\alpha(\vec a)$.
So if $T,\alpha(\vec a),D{\cal A}$ was inconsistent then $\alpha(\vec a)\vdash_T\neg\varkappa(\vec a,\vec b)$ for a conjunction $\varkappa(\vec a,\vec b)$ of sentences from $D{\cal A}$.
Since $\vec b$ does not occur in $\alpha(\vec a)$ or $T$, we have that $\alpha(\vec a)\vdash_T\forall\vec y\neg\varkappa(\vec a,\vec y)$ and since $\vec a$ do not occur in $T$ we have that
$\alpha(\vec x)\vdash_T\forall\vec y\neg\varkappa(\vec x,\vec y)$ and so $\forall\vec y\neg\varkappa(\vec x,\vec y)\in Y$, so ${\cal A}\vDash\forall\vec y\neg\varkappa(\vec x,\vec y)$.
But this contradicts ${\cal A}\vDash\varkappa(\vec a,\vec b)$.
\qed

Say that $\alpha=\alpha(\vec x)$ is {\it $kappa$-persistent}\addtoindex{substructure persistence}[of a cardinality] for a cardinality $\kappa$ if we have that for all $T$-models ${\cal A},{\cal B}$ of
cardinality $\kappa$ and $\vec a\in A^n$,
$$ {\cal A}\subseteq{\cal B}\vdash\alpha(\vec a)\implies{\cal A}\vDash\alpha(\vec a) $$
Then if $T$ is countable this theorem holds even if we loosen the condition to $\alpha$ being $\kappa$-persistent for any $\kappa\geq\aleph_0$.
This is as every $T$-model is elementarily equivalent (in their extended languages) to a $T$-model of cardinality $\kappa$ by the L\"owenheim-Skolem theorems.

A {\it $\forall\exists$-sentence}\addtoindex{sentence}[forall-exists] is a sentence of the form $\forall\vec x\exists\vec y\alpha(\vec x,\vec y)$ with $\alpha$ quantifier-free.
A theory with an axiomatic system consisting of $\forall\exists$-sentences is called a {\it $\forall\exists$-theory}\addtoindex{theory}[forall-exists].
Many theories are $\forall\exists$-theories, for example the theory of algebraically closed fields and divisible groups.
We will now also characterize $\forall\exists$-theories semantically.

A {\it chain of structures} is a set $K$ of ${\cal L}$-structures such that for every ${\cal A},{\cal B}\in K$ wither ${\cal A}\subseteq{\cal B}$ or ${\cal B}\subseteq{\cal A}$.
Often times the structure will be countable and can thus be written as ${\cal A}_0\subseteq{\cal A}_1\subseteq\cdots$.
In any case if $K$ is a chain of structures, we can define the structure ${\cal C}\coloneqq\bigcup K$ whose domain is $C=\bigcup\set{A}[{\cal A}\in K]$ and for every relation symbol $r$ and $\vec a\in C^n$,
$r^{\cal C}\vec a\iff r^{\cal A}\vec a$ for any ${\cal A}\in K$ such that $\vec a\in A^n$.
Notice that this is independent of the choice for ${\cal A}$ (and such a ${\cal A}$ must exist), as if $\vec a\in A_1^n,A_2^n$ then suppose ${\cal A}_1\subseteq{\cal A}_2$ and since they are substructures
we have $r^{{\cal A}_1}\vec a\iff r^{{\cal A}_2}\vec a$.
And for function symbols $f$, let $f^{\cal C}\vec a=f^{\cal A}\vec a$ for any ${\cal A}\in K$ such that $\vec a\in A^n$, and for similar reasons as above this is well-defined.
As such, ${\cal C}$ can be equivalently defined as the smallest ${\cal L}$-structure where every ${\cal A}\in K$ is a substructure.

\bexam[name=sodecimalexam]

    Define ${\cal D}_n$ to be the additive group of real numbers which have at most $n$ decimals after the decimal point.
    Since ${\cal D}_n\subseteq{\cal D}_{n+1}$, they form a chain and we can take ${\cal D}\coloneqq\bigcup_{n=0}^\infty{\cal D}_n$, which is just the additive group of reals with finitely many decimals
    after the point.
    Similarly if we take ${\cal D}_n$ to be ordered sets.
    But in this case we have ${\cal D}_n\vDash{\sf SO}$ while ${\cal D}\vDash{\sf DO}$, and therefore as we will see this means that ${\sf SO}$ is not a $\forall\exists$-theory.

\eexam

Notice that if $K$ is a chain of substructures and $\alpha=\forall\vec x\exists\vec y\beta(\vec x,\vec y)$ is a $\forall\exists$-sentence valid in all ${\cal A}\in K$, then it is also valid in
${\cal C}=\bigcup K$.
This is as if we let $\vec a\in C^n$, then $\vec a\in A^n$ for some ${\cal A}\in K$ and so ${\cal A}\vDash\exists\vec y\beta(\vec a,\vec y)$ and since ${\cal A}\subseteq{\cal C}$ we have that
${\cal C}\vDash\exists\vec y\beta(\vec a,\vec y)$ and since $\vec a\in C^n$ is arbitrary we have ${\cal A}\vDash\forall\vec x\exists\vec y\beta(\vec x,\vec y)$.
Suppose $\boldsymbol K$ is a class of ${\cal L}$-structures which is closed under chains (meaning if $K\subseteq\boldsymbol K$ is a chain then $\bigcup K\in\boldsymbol K$), then $\boldsymbol K$ is called
{\it inductive}\addtoindex{inductive}[class of substructures].
So by this, if $T$ is a $\forall\exists$-theory then $\Md T$ is inductive.

Let us say that a chain $K$ is an {\it elementary chain} if for every ${\cal A},{\cal B}\in K$ either ${\cal A}\preceq{\cal B}$ or ${\cal B}\preceq{\cal A}$.
Clearly an elementary chain is a chain in the normal sense as well.

\blemm[title=Tarski's Chain Lemma, name=tarskichainlemma]

    Let $K$ be an elementary chain, and let ${\cal C}=\bigcup K$.
    Then ${\cal A}\preceq{\cal C}$ for every ${\cal A}\in K$.

\elemm

We must show that for every $\vec a\in A^n$, ${\cal A}\vDash\alpha(\vec a)\iff{\cal C}\vDash\alpha(\vec a)$.
We will show this by induction on $\alpha(\vec x)$.
It is trivial for prime formulas as ${\cal A}\subseteq{\cal C}$, and the induction step on $\land$ and $\neg$ are obvious.
So let ${\cal A}\vDash\forall y\alpha(y,\vec a)$ then let $a_0\in C$, then there must exist some ${\cal B}\in K$ such that $a_0,a_1,\dots,a_n\in B$ and ${\cal A}\preceq{\cal B}$ so since
${\cal A}\vDash\alpha(a_0,\vec a)$ we have that ${\cal B}\vDash\alpha(a_0,\vec a)$ and by our inductive hypothesis ${\cal C}\vDash\alpha(a_0,\vec a)$.
Since $a_0\in C$ is arbitrary we have that ${\cal C}\vDash\forall y\alpha(y,\vec a)$.
The converse ${\cal C}\vDash\forall y\alpha(y,\vec a)\implies{\cal A}\vDash\forall y\alpha(y,\vec a)$ is due to ${\cal A}\subseteq{\cal C}$.
\qed

We define another useful concept.
Let ${\cal A}\subseteq{\cal B}$, then ${\cal A}$ is {\it existentially closed}\addtoindex{existentially closed} in ${\cal B}$, in symbols ${\cal A}\subseteq_{\it ec}{\cal B}$ if
$$ {\cal B}\vDash\exists\vec x\phi(\vec x,\vec a)\implies{\cal A}\vDash\exists\vec x\phi(\vec x,\vec a)\quad (\vec a\in A^n) $$
where $\phi(\vec x,\vec a)$ is any conjunction of literals in ${\cal L}A$.
Then this holds for all quantifier-free $\phi$ as we can convert $\phi$ to DNF and distributing $\exists\vec x$ over the disjunctions.
We clearly have that ${\cal A}\preceq{\cal B}\implies{\cal A}\subseteq_{\it ec}{\cal B}\implies{\cal A}\subseteq{\cal B}$.

Call a chain of substructures $K$ such that for every ${\cal A},{\cal B}\in K$ either ${\cal A}\subseteq_{\it ec}{\cal B}$ or ${\cal B}\subseteq_{\it ec}{\cal A}$, an {\it existentially closed chain}.
Then we have the following lemma for existentially closed chains: if $K$ is an existentially closed chain then for every ${\cal A}\in K$, ${\cal A}\subseteq_{\it ec}\bigcup K$.
Suppose that ${\cal C}\vDash\exists\vec x\phi(\vec x,\vec a)$ then there exists a $\vec b\in C^n$ such that ${\cal C}\vDash\phi(\vec b,\vec a)$.
Let ${\cal B}\in K$ such that $\vec a,\vec b\in B$ and ${\cal A}\subseteq_{\it ec}{\cal B}$, so then we know that for any literal $\pi(\vec a,\vec b)$ we have that by definition
${\cal C}\vDash\pi(\vec b,\vec a)\iff{\cal B}\vDash\pi(\vec b,\vec a)$.
And so this must hold for $\phi$ in place of $\pi$ as it is a conjunction of literals.
So then we have that ${\cal B}\vDash\phi(\vec b,\vec a)$ and thus ${\cal B}\vDash\exists\vec x\phi(\vec x,\vec a)$ and since ${\cal A}\subseteq_{\it ec}{\cal B}$, we have the desired result.

Let us define the {\it universal diagram}\addtoindex{diagram}[universal] of an ${\cal L}$-structure ${\cal A}$ to be the set of all $\forall$-sentences in ${\cal L}A$ valid in ${\cal A}$.
We denote the universal diagram of ${\cal A}$ by $D_\forall{\cal A}$.
Obviously $D_\forall{\cal A}\subseteq D_{\it el}{\cal A}$.

\blemm[name=eclosureequiv]

    Let ${\cal A},{\cal B}$ be ${\cal L}$-structures such that ${\cal A}\subseteq{\cal B}$.
    Then the followinga are equivalent:
    \benum
        \item ${\cal A}\subseteq_{\it el}{\cal B}$,
        \item there exists an ${\cal A}'\supseteq{\cal B}$ such that ${\cal A}\preceq{\cal A}'$,
        \item ${\cal B}\vDash D_\forall{\cal A}$.
    \eenum

\elemm

$(1)\implies(2)$: to do this it is sufficient to show that $D_{\it el}{\cal A}\cup D{\cal B}$ is consistent.
Otherwise $D_{\it el}{\cal A}\vdash\neg\varkappa(\vec b)$ for some conjunction of sentences in $D{\cal B}$, where $\vec b$ is an $n$-tuple of elements in $B\setminus A$.
Then $D_{\it el}{\cal A}\vdash\forall\vec x\neg\varkappa(\vec x)$, and so ${\cal A}\vDash\forall\vec x\neg\varkappa(\vec x)$.
But since ${\cal B}\vDash\exists\vec x\varkappa(\vec x)$ we must have that ${\cal A}\vDash\exists\vec x\varkappa(\vec x)$ in contradiction.
$(2)\implies(3)$: since ${\cal A}\preceq{\cal A}'$ we have that ${\cal A}'\vDash D_{\it el}{\cal A}\supseteq D_\forall{\cal A}$.
Since ${\cal B}\subseteq{\cal A}'$, we must have that ${\cal B}\vDash D_\forall{\cal A}$ as $D_\forall{\cal A}$ is a $\forall$-theory and is thus ${\bf S}$-invariant.
$(3)\implies(1)$: we have that ${\cal A}\vDash\alpha\implies{\cal B}\vDash\alpha$ for all $\forall$-sentences $\alpha$ of ${\cal L}A$.
Since the negation of a $\forall$-sentence is an $\exists$-sentence, this is equivalent to ${\cal B}\vDash\alpha\implies{\cal A}\vDash\alpha$ for all $\exists$-sentences of ${\cal L}A$.
\qed

\bthrm

    A theory $T$ is an $\forall\exists$-theory if and only if $T$ is inductive.

\ethrm

We have already shown that a $\forall\exists$-theory is inductive, all which remains is to prove the converse.
So let $T$ be inductive, then we will show that $\Md T=\Md T^{\forall\exists}$ where $T^{\forall\exists}$ is the set of all $\forall\exists$-sentences in $T$.
All that we must prove is that $\Md T^{\forall\exists}\subseteq\Md T$, so let ${\cal A}\vDash T^{\forall\exists}$.
We claim that $T\cup D_\forall{\cal A}$ is consistent, as otherwise $\vdash_T\neg\varkappa(\vec a)$ for a conjunction of sentences in $D_\forall{\cal A}$.
Since $\vec a$ does not occur in $T$, we have that $\vdash_T\forall\vec x\neg\varkappa(\vec x)$.
Since $\varkappa(\vec x)$ is the conjunction of $\forall$-formulas, it itself is equivalent to a $\forall$-formula and so $\forall\vec x\neg\varkappa(\vec x)$ is equivalent to a $\forall\exists$-sentence,
meaning $\forall\vec x\neg\varkappa(\vec x)$ belongs to $T^{\forall\exists}$ up to equivalence.
Thus ${\cal A}\vDash\forall\vec x\neg\varkappa(\vec x)$, contradicting ${\cal A}\vDash\varkappa(\vec a)$.

So let ${\cal A}_1\vDash T,D_\forall{\cal A}$, then without loss of generality ${\cal A}\subseteq{\cal A}_1$ and in lieu of the above lemma we further have ${\cal A}\subseteq_{\it ec}{\cal A}_1$.
By the same lemma we have a ${\cal A}_2$ such that ${\cal A}\preceq{\cal A}_2$, so ${\cal A}_2\vDash T^{\forall\exists}$.
If we repeat this construction with ${\cal A}_2$ in place of ${\cal A}$ and so on, we get a chain ${\cal A}_0={\cal A},{\cal A}_1,{\cal A}_2,{\cal A}_3,\dots$ where ${\cal A}_{2n}\preceq{\cal A}_{2n+2}$ and
${\cal A}_{2n}\subseteq_{\it ec}{\cal A}_{2n+1}\vDash T$.
So let us define ${\cal C}\coloneqq\bigcup_{n=0}^\infty{\cal A}_n$, and so surely ${\cal C}\coloneqq\bigcup_{n=0}^\infty{\cal A}_{2n}=\bigcup_{n=0}^\infty{\cal A}_{2n+1}$.
Thus we have that ${\cal A}\preceq{\cal C}$ by \refmath{tarskichainlemma}.
By the construction we have that ${\cal A}_{2n+1}\vDash T$ and since $T$ is inductive we must have that ${\cal C}\vDash T$.
Since ${\cal A}\preceq{\cal C}$ we have that ${\cal A}\vDash T$ as required.
\qed

One ready application of this theorem is that ${\sf SO}_{00}$, ${\sf SO}_{10}$, and ${\sf SO}_{10}$ are not $\forall\exists$-theories by \refmath[example]{sodecimalexam}.

The construction utilized in the above theorem can be generalized, but we will not do so.

Let us say that two theories are $T_0$ and $T_1$ are {\it compatible} if $T_0+T_1$ is consistent (this is not a new definition).
We of course can not infer compatibility from the consistency of $T_0$ and $T_1$: ${\sf DO}$ and ${\sf SO}$ are consistent but ${\sf DO}+{\sf SO}$ is not.
We further say that $T_0$ and $T_1$ are {\it model compatible}\addtoindex{model compatible} if every $T_0$-model is embeddable into some $T_1$-model and vice versa.
By \refmath[theorem]{universalpartembedtheorem} this is equivalent to $T_0^\forall=T_1^\forall$, and so model compatibility is therefore an equivalence relation and so partitions the set of consistent
${\cal L}$-theories.

Notice that model compatibility does not imply compatibility, as we see in the following example:

\bexam

    ${\sf SO}$ and ${\sf DO}$ are both model compatible: let ${\cal A}\vDash{\sf SO}$ then we claim that ${\cal A}\vDash{\sf DO}^\forall$ (and is thus embeddable into a ${\sf DO}$-model).
    Let $a_1<\dots<a_n\in A$ then the model generated by these elements is simply $\set{a_1,\dots,a_n}$ as the theory has no function symbols.
    This can obviously be embedded into a ${\sf DO}$-model, as it is isomorphic to $\set{1,\dots,n}$ which we can embed into ${\bb Q}$.
    Thus every finitely generated ${\cal A}$-substructure can be embedded into a ${\sf DO}$-model and as we showed this means that ${\cal A}$ can be embedded into a ${\sf DO}$-model.
    The converse follows similarly.

\eexam

\bexerc

    Let $X$ be a set of {\it positive sentences}: sentences constructed from prime formulas utilizing only $\land,\lor,\forall,\exists$.
    Prove that if ${\cal A}\vDash X$ then ${\cal B}\vDash X$ where ${\cal B}$ is a homomorphic image of ${\cal A}$.
    Thus $\Md X$ is closed under homomorphic images (the converse is also true).

\eexerc

Let $\phi$ be a positive formula and $h$ a homomorphism, then we claim that ${\cal A}\vDash\phi(\vec a)\implies{\cal B}\coloneqq h{\cal A}\vDash\phi(h\vec a)$ for all $\vec a\in A^n$.
We prove this by induction on $\phi$: for a prime formula $r\vec t$ then we have that $(r\vec t)^{{\cal B},h\vec a}=r^{\cal B}\vec t^{{\cal B},h\vec a}$.
By term induction we can see that $t^{{\cal B},h\vec a}=ht^{{\cal A},\vec a}$, and so this is if and only if $r^{\cal A}\vec t^{{\cal A},\vec a}$ since $h$ is a homomorphism, which is equivalent to
${\cal A}\vDash r\vec t(\vec a)$.
The inductive step for $\land,\lor$ is simple.
Now, ${\cal A}\vDash\forall x\phi(x,\vec a)$ means that for any arbitrary $a_0\in A$, ${\cal A}\vDash\phi(a_0,\vec a)$ and so by induction ${\cal B}\vDash\phi(ha_0,h\vec a)$.
Since $a_0$ is arbitrary and $ha_0$ exhausts $B$, this means ${\cal B}\vDash\forall x\phi(h\vec a)$.
Similar for $\exists$.
This proves the desired result for when $\phi$ has no free variables.

\bexerc

    Suppose that $T_0$ and $T_1$ are model compatible and inductive.
    Show then that $T_0+T_1$ is also inductive and model compatible with $T_0$ and $T_1$.

\eexerc

$T_0+T_1$ being inductive is trivial: any chain of $T_0+T_1$-models is also a chain of $T_0$ and $T_1$-models and by their own inductiveness the union of the chain is a $T_0$ and $T_1$-model and is thus
a $T_0+T_1$-model.
Alternatively, we have that the union of the $\forall\exists$-axiom systems of $T_0$ and $T_1$ forms a $\forall\exists$-axiom system for $T_0+T_1$ so it is therefore a $\forall\exists$-theory.

Now we must show that $(T_0+T_1)^\forall=T_0^\forall=T_1^\forall$.
To do so we will show that $\Md(T_0+T_1)^\forall=\Md T_0^\forall=\Md T_1^\forall$, the only nontrivial direction is $\Md T_0^\forall\subseteq\Md(T_0+T_1)^\forall$.
So let ${\cal A}\vDash T_0^\forall$, which means ${\cal A}\subseteq{\cal A}_0\vDash T_0$.
And since $T_0$ and $T_1$ are model compatible, this means there exists an ${\cal A}_1$ such that ${\cal A}_0\subseteq{\cal A}_1\vDash T_1$, and so on we can construct a chain
${\cal A_0}\subseteq{\cal A}_1\subseteq{\cal A}_2\subseteq\cdots$ where ${\cal A}_{2n}\vDash T_0$ and ${\cal A}_{2n+1}\vDash T_1$.
So let
$$ {\cal C}\coloneqq\bigcup_{n=0}^\infty{\cal A}_n = \bigcup_{n=0}^\infty{\cal A}_{2n} = \bigcup_{n=0}^\infty{\cal A}_{2n+1} $$
and since $T_0$ and $T_1$ are inductive, we get that ${\cal C}\vDash T_0,T_1$ and since ${\cal A}\subseteq{\cal C}$ we get that ${\cal A}$ is a substructure of a $T_0+T_1$-model so
${\cal A}\in\Md(T_0+T_1)^\forall$ as required.

\bexerc

    For an inductive theory $T$, show that of all its inductive extensions model compatible with $T$, there exists a largest one.
    This is called the {\it inductive completion} of $T$.
    For the theory of fields, for example, this is ${\sf ACF}$.

\eexerc

Suppose $\set{T_i}_{i\in I}$ are of $T$'s inductive extensions which are also model compatible with $T$, then let us define $T'=\bigcup_{i\in I}T_i$ (or rather $T'$ is the theory generated by this).
We claim that $T'$ is inductive and model compatible with $T$.
Suppose $K$ is a chain of $T'$-models, then every ${\cal A}\in K$ is a $T_i$-model for every $i\in I$ and thus by the inductive nature of each $T_i$, ${\cal C}=\bigcup K$ is also a $T_i$-model, and therefore
it is a $T$-model as required.

Now since $T\subseteq T'$ we must have that every $T'$-model can be trivially embedded into a $T$-model, so all that remains is to prove the converse.
So let ${\cal A}\vDash T$, then we claim that $T'+D{\cal A}$ is consistent, and this is of course sufficient.
Otherwise by the compactness theorem there exists $T_1,\dots,T_n\in\set{T_i}_{i\in I}$ such that $T_1,\dots,T_n,D{\cal A}$ is inconsistent.
But by the above exercise $T_1+\cdots+T_n$ is model compatible with $T$ and so ${\cal A}$ can be embedded into a $T_1+\cdots+T_n$-model ${\cal B}$, without loss of generality ${\cal A}\subseteq{\cal B}$.
An so ${\cal B}\vDash D{\cal A}$, which means that $T_1,\dots,T_n,D{\cal A}$ has a model in contradiction.

