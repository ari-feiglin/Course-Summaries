\bdefn

    Let $X$ be a nonempty set, then an {\emphcolor algebra}\addtoindex{algebra} of sets on $X$ is a nonempty collection ${\cal A}\subseteq\powsetof X$ which is closed under finite unions and complements.
    Meaning if $E_1,\dots,E_n\in{\cal A}$ then $\bigcup_{i=1}^n E_i\in{\cal A}$ and if $E\in{\cal A}$ then $E^c\in{\cal A}$.
    If ${\cal A}$ is closed under countable unions, then it is called a {\emphcolor $\sigma$-algebra}\addtoindex{sigma-algebra}.

\edefn

Notice that since $\bigcap_{i\in I}E_i=\parens{\bigcup_{i\in I}E_i^c}^c$, algebras (respectively $\sigma$-algebras) are closed under finite (respectively countable) intersections.
And if ${\cal A}$ is an algebra then since it is non-empty, there exists some $E\in{\cal A}$ and so $E\cap E^c=\varnothing\in{\cal A}$ and $\varnothing^c=X\in{\cal A}$.

Further notice that if ${\cal A}$ is an algebra, it is sufficient for it to be closed under countable {\it disjoint} unions in order for it to be a $\sigma$-algebra.
Suppose $\set{E_i}_{i=1}^\infty\subseteq{\cal A}$ then let us define
$$ F_k = E_k\cap\parens{\bigcup_{i=1}^{k-1}E_j}^c $$
then $\set{F_k}_{k=1}^\infty$ are disjoint and and $\bigcup_{i=1}^\infty E_i=\bigdcup_{i=1}^\infty F_i$ and since $F_k\in{\cal A}$ since it is an algebra, and ${\cal A}$ is closed under countable disjoint
unions, the union is in ${\cal A}$.
So ${\cal A}$ is a $\sigma$-algebra.

Some trivial examples of $\sigma$-algebras are $\powsetof X$ and $\set{\varnothing,X}$.
If $X$ is uncountable then
$$ {\cal A} = \set{E\subseteq X}[\hbox{$E$ is countable or cocountable}] $$
(cocountable meaning its complement is countable.)
${\cal A}$ is obviously closed under complements and is nonempty.
If $\set{E_i}_{i=1}^\infty\subseteq{\cal A}$ then if all $E_i$ are countable then $\bigcup_{i=1}^\infty E_i$ is also countable and in ${\cal A}$.
Otherwise if any $E_i$ is cocountable, so is the union.

Notice that if $\set{{\cal A}_i}_{i\in I}$ is an arbitrary family of $\sigma$-algebras on $X$, then so is $\bigcap_{i\in I}{\cal A}_i$.
This is nonempty since it contains $\varnothing$; if $E\in\bigcap_{i\in I}{\cal A}_i$ then $E\in{\cal A}_i$ and so $E^c\in{\cal A}_i$ for every $i\in I$, meaning $E^c\in\bigcap_{i\in I}{\cal A}_i$;
and similarly if $\set{E_j}_{j=1}^\infty\subseteq\bigcap_{i\in I}{\cal A}_i$ then $\set{E_j}_{j=1}^\infty\subseteq{\cal A}_i$ and so $\bigcup_{j=1}^\infty E_j\in{\cal A}_i$ for every $i\in I$, and so
$\bigcup_{j=1}^\infty E_j\in\bigcap_{i\in I}{\cal A}_i$ as required.
Thus if ${\cal E}$ is an arbitrary family of subsets of $X$, we can discuss the smallest $\sigma$-algebra containing ${\cal E}$:
$$ {\cal M}({\cal E}) \coloneqq \bigcap\set{{\cal A}}[\hbox{${\cal A}$ is a $\sigma$-algebra containing ${\cal E}$}] $$
We will often use the following argument:

\blemm[name=salginc]

    If ${\cal E}\subseteq\Mof{{\cal F}}$ then $\Mof{{\cal E}}\subseteq\Mof{{\cal F}}$.

\elemm

Since $\Mof{{\cal F}}$ is a $\sigma$-algebra containing ${\cal E}$, it must contain $\Mof{{\cal E}}$.
\qed

\bdefn

    If $X$ is a topological space (in particular a metric space), then the $\sigma$-algebra generated by the set of open sets in $X$ (the topology) is called the {\emphcolor Borel $\sigma$-algebra}%
    \addtoindex{sigma-algebra}[borel] on $X$, and is denoted ${\cal B}_X$.
    Members of ${\cal B}_X$ are called {\emphcolor Borel sets}\addtoindex{borel set}\alsosee{borel set}{Borel $\sigma$-algebra}{sigma-algebra:borel}.

\edefn

Examples of Borel sets are open and closed sets, countable intersections of open sets, countable unions of closed sets, etc.
In general a countable intersection of open sets is called a $G_\delta$ set, a countable union of closed sets is a $F_\sigma$ set, a countable union of $G_\delta$ sets is a $G_{\delta\sigma}$ set, a 
countable intersection of $F_\sigma$ sets is a $F_{\sigma\delta}$ set, and so on.
This is called the {\it Borel hierarchy}\addtoindex{borel hierarchy}.

The Borel $\sigma$-algebra on ${\bb R}$ plays a foundational role in what is to come.

\bprop

    ${\cal B}_{\bb R}$ can be generated by each of the following:
    \benum
        \item the open intervals: ${\cal E}_1=\set{(a,b)}[a<b]$,
        \item the closed intervals: ${\cal E}_2=\set{[a,b]}[a<b]$,
        \item the half open intervals: ${\cal E}_3=\set{(a,b]}[a<b]$ or ${\cal E}_4=\set{[b,a)}[a<b]$,
        \item the open rays: ${\cal E}_5=\set{(a,\infty)}$ or ${\cal E}_6=\set{(-\infty,a)}$,
        \item the closed rays: ${\cal E}_7=\set{[a,\infty)}$ or ${\cal E}_8=\set{(-\infty,a]}$.
    \eenum

\eprop

${\cal E}_1$ generates ${\cal B}_{\bb R}$ since every open set is the countable union of open intervals, and so ${\cal B}_{\bb R}\subseteq\Mof{{\cal E}_1}\subseteq{\cal B}_{\bb R}$: the first inclusion
is due to \refmath[lemma]{salginc} and the second is since ${\cal E}_1$ contains only open sets.
Elements of ${\cal E}_j$ for all $j$ are either $G_\delta$ or $F_\delta$ sets, for example $(a,b]=\bigcap_{n=1}^\infty(a,b+n^{-1})$, and so $\Mof{{\cal E}_j}\subseteq{\cal B}_{\bb R}$ by
\refmath[lemma]{salginc}.
It is readily verifiable that open intervals can be generated by any ${\cal E}_j$ and so ${\cal B}_{\bb R}=\Mof{{\cal E}_1}\subseteq\Mof{{\cal E}_j}$ for every other $j$, and so all ${\cal E}_j$ generate
${\cal B}_{\bb R}$.
For example, $(a,b)=\bigcup_{n=1}^\infty[a+n^{-1},b-n^{-1}]$.
\qed

\bdefn

    If $\set{X_\alpha}_{\alpha\in A}$ is a collection of nonempty sets, let $X=\prod_{\alpha\in A}X_\alpha$ be their direct product and $\pi_\alpha\colon X\longto X_\alpha$ be the coordinate maps:
    $(x_a)_{a\in A}\varmapsto x_\alpha$.
    If ${\cal M}_\alpha$ is a $\sigma$-algebra on $X_\alpha$ for each $\alpha\in A$, then we define their {\emphcolor product $\sigma$-algebra} to be the $\sigma$-algebra generated by
    $$ \set{\pi_\alpha^{-1}(E_\alpha)}[E_\alpha\in{\cal M}_\alpha,\alpha\in A] $$
    This is denoted by $\bigotimes_{\alpha\in A}{\cal M}_\alpha$.

\edefn

\bprop

    If $A$ is countable then $\bigotimes_{\alpha\in A}{\cal M}_\alpha$ is the $\sigma$-algebra generated by ${\cal E}=\set{\prod_{\alpha\in A}E_\alpha}[E_\alpha\in{\cal M}_\alpha]$.

\eprop

If $E_\alpha\in{\cal M}_\alpha$ then $\pi^{-1}_\alpha(E_\alpha)=\prod_{\beta\in A}E_\beta$ where $E_\beta=X_\beta$ for $\beta\neq\alpha$, and so elements of the generating set of the product algebra
are in ${\cal E}$ so $\bigotimes_{\alpha\in A}{\cal M}_\alpha\subseteq\Mof{\cal E}$.
Conversely $\prod_{\alpha\in A}E_\alpha=\bigcap_{\alpha\in A}\pi_\alpha^{-1}(E_\alpha)$ which is a countable union and is therefore in $\bigotimes_{\alpha\in A}{\cal M}_\alpha$.
So by \refmath[lemma]{salginc}, $\Mof{{\cal E}}\subseteq\bigotimes_{\alpha\in A}{\cal M}_\alpha$.
\qed

\bprop

    If ${\cal M}_\alpha$ is generated by ${\cal E}_\alpha$ for every $\alpha\in A$ then $\bigotimes_{\alpha\in A}{\cal M}_\alpha$ is generated by
    ${\cal F}_1=\set{\pi_\alpha^{-1}(E_\alpha)}[E_\alpha\in{\cal E}_\alpha,\alpha\in A]$.
    If $A$ is countable and $X_\alpha\in{\cal E}_\alpha$ for all $\alpha\in A$ then $\bigotimes_{\alpha\in A}{\cal M}_\alpha$ is generated by
    ${\cal F}_2=\set{\prod_{\alpha\in A}E_\alpha}[E_\alpha\in{\cal E}_\alpha,\alpha\in A]$.

\eprop

Obviously $\Mof{{\cal F}_1}\subseteq\bigotimes_{\alpha\in A}{\cal M}_\alpha$.
Conversely, $\set{E\subseteq X_\alpha}[\pi_\alpha^{-1}(E)\in\Mof{{\cal F}_1}]$ is easily seen to be a $\sigma$-algebra on $X_\alpha$ which contains ${\cal E}_\alpha$ and therefore
$\Mof{{\cal E}_\alpha}={\cal M}_\alpha$.
Thus $\pi_\alpha^{-1}(E)\in\Mof{{\cal F}_1}$ for all $E\in{\cal M}_\alpha$, which means that $\bigotimes_{\alpha\in A}{\cal M}_\alpha\subseteq\Mof{{\cal F}_1}$ as required.
The second assertion follows from the first.
\qed

\bprop

    Let $X_1,\dots,X_n$ be metric spaces and let $X=\prod_{i=1}^n X_i$ be equipped with the product metric (maximum).
    Then $\bigotimes_{i=1}^n{\cal B}_{X_i}\subseteq{\cal B}_X$.
    If the $X_i$s are separable then $\bigotimes_{i=1}^n{\cal B}_{X_i}={\cal B}_X$.

\eprop

By the above proposition, $\bigotimes_{i=1}^n{\cal B}_{X_i}$ is generated by the sets $\pi^{-1}_i(U_i)$ for $1\leq i\leq n$ where $U_i$ is open in $X_i$.
Since these sets are open $X$, $\bigotimes_{i=1}^n{\cal B}_{X_i}\subseteq{\cal B}_X$.
Now suppose $C_i$ is countably dense in $X_i$ and let ${\cal E}_i$ be the collection of balls in $X_i$ centered around points in $C_i$ with rational radii.
Every open set in $X_i$ is a union of elements of ${\cal E}_i$, a countable union since ${\cal E}_i$ is countable, so ${\cal B}_{X_i}$ is generated by ${\cal E}_i$.
Furthermore, the set of points in $X$ whose $i$th coordinate is in $C_i$ for all $i$ is a countable dense subset of $X$.
Balls of radius $r$ in $X$ are simply products of balls of radius $r$ in the $X_i$ so $X$ is generated by $\set{\prod_{i=1}^nE_i}[E_i\in{\cal E}_i]$ which also generated $\bigotimes_{i=1}^n{\cal B}_{X_i}$
by the above proposition.
\qed

\bcoro

    ${\cal B}_{{\bb R}^n}=\bigotimes_{i=1}^n{\cal B}_{\bb R}$.

\ecoro

\bdefn

    An {\emphcolor elementary family}\addtoindex{elementary family} on $X$ is a collection ${\cal E}$ of subsets of $X$ such that
    \benum
        \item $\varnothing\in{\cal E}$,
        \item if $E,F\in{\cal E}$ then $E\cap F\in{\cal E}$,
        \item if $E\in{\cal E}$ then $E^c$ is a finite disjoint union of members of ${\cal E}$.
    \eenum

\edefn

\bprop

    If ${\cal E}$ is an elementary family then the collection ${\cal A}$ of finite disjoint unions of members of ${\cal E}$ is an algebra.

\eprop

If $A,B\in{\cal E}$ and $B^c=\bigdcup_{i=1}^IC_i$ where $C_i\in{\cal E}$ are disjoint, then $A\setminus B=\bigdcup_{i=1}^I(A\cap C_i)\in{\cal E}$ and $A\cup B=(A\setminus B)\dcup B$.
Thus $A\setminus B,A\cup B\in{\cal A}$.
By induction if $A_1,\dots,A_n\in{\cal E}$, $\bigcup_{i=1}^nA_i\in{\cal A}$: we can assume that $A_1,\dots,A_{n-1}$ are disjoint (since their union is in ${\cal A}$ which is the set of disjoint unions),
and then $\bigcup_{i=1}^nA_i=A_n\dcup\bigdcup_{i=1}^{n-1}(A_i\setminus A_n)$ which is a disjoint union (of disjoint unions of elements in ${\cal E}$) and so is in ${\cal A}$.

To show that ${\cal A}$ is closed under complements, suppose $A_1,\dots,A_n\in{\cal E}$ are disjoint and $A_m^c=\bigdcup_{j=1}^{J_m}B_m^j$ then
$$ \parens{\bigdcup_{m=1}^nA_m}^c = \bigcap_{m=1}^n\bigdcup_{j=1}^{J_m}B^j_m = \bigdcup\set{B_1^{j_1}\cap\cdots\cap B_n^{j_n}}[1\leq j_m\leq J_m,1\leq m\leq n] $$
which is a disjoint union of elements in ${\cal E}$, and so is in ${\cal A}$.
\qed

